{% extends "base.html" %}
{% load i18n %}{% block content %}

<a href={% url task_list %}> < {% trans "Back to task list" %}</a>

<h1>{{task.title}}</h1>

<h2>{% trans "Solutions ready to be attested" %}</h2>

<div id="Solutions">
	{% for solution, allow_new_attest in solution_list%}
		<a>Solution {{forloop.counter}}<a><br/>
		{% for attestation in solution.attestation_set.all %}
			{%ifequal attestation.author requestuser %} 
				{% if attestation.final %}
					<a href={% url view_attestation attestation_id=attestation.id%}>{% trans "View your Attestation" %}</a>
				{% else %}
					<a href={% url edit_attestation attestation_id=attestation.id%}>{% trans "Edit your Attestation" %}</a>
				{% endif %}
			{% else %}
				<a href={% url view_attestation attestation_id=attestation.id%}>{% blocktrans with attestation.author.get_full_name as author %}View Attestation by {{author}}{% endblocktrans %}</a>
			{% endifequal %}<br/> 
		{% endfor %}
		{% if allow_new_attest %}
			<a href={% url new_attestation solution_id=solution.id%}>{% trans "Add Attestation" %}</a>
		{% endif %}<br/>
	{%endfor%}
</div>

{% endblock %}