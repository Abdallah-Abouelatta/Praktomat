language: python

python:
 - "2.7"

install:
 - sudo apt-get update
 - sudo apt-get install python2.7-dev swig libsasl2-dev libssl-dev libpq-dev
 - sudo apt-get install openjdk-6-jdk dejagnu checkstyle gcj-jdk
   # m2crypto does not compile out of the box, see https://github.com/boto/boto/pull/841
 - pip install --upgrade git+https://github.com/msabramo/M2Crypto.git@1de89f579e5377412fd428fb96edbfd3ef4e5c4d
 - pip install -r requirements.txt

script:
 - mkdir /tmp/praktomat-upload
 - ./src/manage.py test --settings=settings_test accounts attestation checker configuration sessionprofile solutions tasks
